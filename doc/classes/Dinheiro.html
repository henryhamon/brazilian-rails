<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Dinheiro</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Dinheiro</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../files/brdinheiro/lib/brdinheiro/dinheiro_rb.html">
                brdinheiro/lib/brdinheiro/dinheiro.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h2>Como usar o <a href="Dinheiro.html">Dinheiro</a> em seu <a href="ActiveRecord.html">ActiveRecord</a>?</h2>
<ul>
<li>Arquivo 001_create_lancamentos.rb:

<pre>
  class CreateLancamentos &lt; ActiveRecord::Migration
    def self.up
      create_table :lancamentos do |t|
        t.column :descricao,   :string,    :null =&gt; false
        t.column :valor,       :decimal,   :precision =&gt; 14, :scale =&gt; 2
        t.column :mensalidade, :decimal,   :precision =&gt; 14, :scale =&gt; 2
      end
    end

    def self.down
      drop_table :lancamentos
    end
  end
</pre>
</li>
<li>Arquivo lancamento.rb:

<pre>
  class Lancamento &lt; ActiveRecord::Base
    usar_como_dinheiro :valor, :mensalidade
  end
</pre>
</li>
<li>No console (script/console):

<pre>
  Loading development environment.
  &gt;&gt; lancamento = Lancamento.new
  =&gt; #&lt;Lancamento:0x9652cd8 @attributes={&quot;descricao&quot;=&gt;nil,
                                         &quot;valor&quot;=&gt;#&lt;BigDecimal:9657008,'0.0',4(4)&gt;,
                                         &quot;mensalidade&quot;=&gt;#&lt;BigDecimal:9656e8c,'0.0',4(4)&gt;},
                            @new_record=true&gt;
  &gt;&gt; lancamento.valor = 100
  =&gt; 100
  &gt;&gt; lancamento.valor
  =&gt; #&lt;Dinheiro:0x9650f3c @quantia=10000&gt;
  &gt;&gt; lancamento.valor.real
  =&gt; &quot;R$ 100,00&quot;
  &gt;&gt; lancamento.valor = 100.50
  =&gt; 100.5
  &gt;&gt; lancamento.valor.real
  =&gt; &quot;R$ 100,50&quot;
  &gt;&gt; lancamento.valor = &quot;250.50&quot;
  =&gt; &quot;250.50&quot;
  &gt;&gt; lancamento.valor.real
  =&gt; &quot;R$ 250,50&quot;
  &gt;&gt; lancamento.valor = 354.58.reais
  =&gt; #&lt;Dinheiro:0x9646384 @quantia=35458&gt;
  &gt;&gt; lancamento.valor.real
  =&gt; &quot;R$ 354,58&quot;
  &gt;&gt; exit
</pre>
</li>
</ul>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000017">*</a>&nbsp;&nbsp;
      <a href="#M000015">+</a>&nbsp;&nbsp;
      <a href="#M000016">-</a>&nbsp;&nbsp;
      <a href="#M000018">/</a>&nbsp;&nbsp;
      <a href="#M000014">&lt;=&gt;</a>&nbsp;&nbsp;
      <a href="#M000013">==</a>&nbsp;&nbsp;
      <a href="#M000031">contabil</a>&nbsp;&nbsp;
      <a href="#M000046">decimal</a>&nbsp;&nbsp;
      <a href="#M000041">digitos_que_sobraram</a>&nbsp;&nbsp;
      <a href="#M000043">extrai_quantia_como_inteiro</a>&nbsp;&nbsp;
      <a href="#M000045">inteiro</a>&nbsp;&nbsp;
      <a href="#M000038">inteiro_com_milhar</a>&nbsp;&nbsp;
      <a href="#M000011">new</a>&nbsp;&nbsp;
      <a href="#M000019">parcelar</a>&nbsp;&nbsp;
      <a href="#M000037">parte_decimal</a>&nbsp;&nbsp;
      <a href="#M000036">parte_inteira</a>&nbsp;&nbsp;
      <a href="#M000021">por_extenso</a>&nbsp;&nbsp;
      <a href="#M000022">por_extenso_em_reais</a>&nbsp;&nbsp;
      <a href="#M000035">quantia=</a>&nbsp;&nbsp;
      <a href="#M000033">quantia_de</a>&nbsp;&nbsp;
      <a href="#M000048">quantia_respeita_formato?</a>&nbsp;&nbsp;
      <a href="#M000039">quantia_sem_separacao_milhares</a>&nbsp;&nbsp;
      <a href="#M000042">quantia_valida?</a>&nbsp;&nbsp;
      <a href="#M000040">quantidade_de_passos</a>&nbsp;&nbsp;
      <a href="#M000026">reais</a>&nbsp;&nbsp;
      <a href="#M000030">reais_contabeis</a>&nbsp;&nbsp;
      <a href="#M000028">reais_formatado</a>&nbsp;&nbsp;
      <a href="#M000025">real</a>&nbsp;&nbsp;
      <a href="#M000029">real_contabil</a>&nbsp;&nbsp;
      <a href="#M000027">real_formatado</a>&nbsp;&nbsp;
      <a href="#M000047">sem_delimitador_decimal</a>&nbsp;&nbsp;
      <a href="#M000044">sem_milhar</a>&nbsp;&nbsp;
      <a href="#M000020">to_extenso</a>&nbsp;&nbsp;
      <a href="#M000024">to_f</a>&nbsp;&nbsp;
      <a href="#M000012">to_s</a>&nbsp;&nbsp;
      <a href="#M000034">transforma_em_string_que_represente_a_quantia</a>&nbsp;&nbsp;
      <a href="#M000032">valor_decimal</a>&nbsp;&nbsp;
      <a href="#M000023">zero?</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name">Comparable</span>
      </div>
    </div>

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">FORMATO_VALIDO_BR</td>
          <td>=</td>
          <td class="context-item-value">/^([R|r]\$\s*)?(([+-]?\d{1,3}(\.?\d{3})*))?(\,\d{0,2})?$/</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">FORMATO_VALIDO_EUA</td>
          <td>=</td>
          <td class="context-item-value">/^([R|r]\$\s*)?(([+-]?\d{1,3}(\,?\d{3})*))?(\.\d{0,2})?$/</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SEPARADOR_MILHAR</td>
          <td>=</td>
          <td class="context-item-value">&quot;.&quot;</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">SEPARADOR_FRACIONARIO</td>
          <td>=</td>
          <td class="context-item-value">&quot;,&quot;</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">QUANTIDADE_DIGITOS</td>
          <td>=</td>
          <td class="context-item-value">3</td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">PRECISAO_DECIMAL</td>
          <td>=</td>
          <td class="context-item-value">100</td>
        </tr>
        </table>
      </div>
    </div>



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">quantia</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000011" class="method-detail">
        <a name="M000011"></a>

        <div class="method-heading">
          <a href="#M000011" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(quantia)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000011-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000011-source">
<pre>
    <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 66</span>
66:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">quantia</span>)
67:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">quantia</span> = <span class="ruby-identifier">quantia</span>
68:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000017" class="method-detail">
        <a name="M000017"></a>

        <div class="method-heading">
          <a href="#M000017" class="method-signature">
          <span class="method-name">*</span><span class="method-args">(outro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna a multiplicacao entre dinheiros.
</p>
<p>
Exemplo:
</p>
<pre>
 5.reais * 2 == 10.reais
 5.reais * 2.reais == 10.reais
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000017-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000017-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 128</span>
128:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">*</span>(<span class="ruby-identifier">outro</span>)
129:     <span class="ruby-keyword kw">return</span> <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">to_f</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">outro</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Dinheiro</span>
130:     <span class="ruby-identifier">outro</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">to_f</span>
131:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000015" class="method-detail">
        <a name="M000015"></a>

        <div class="method-heading">
          <a href="#M000015" class="method-signature">
          <span class="method-name">+</span><span class="method-args">(outro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna a adicao entre dinheiros.
</p>
<p>
Exemplo:
</p>
<pre>
 1.real + 1.real == 2.reais
 1.real + 1 == 2.reais
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000015-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000015-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 110</span>
110:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">+</span>(<span class="ruby-identifier">outro</span>)
111:     <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">transforma_em_string_que_represente_a_quantia</span>(<span class="ruby-ivar">@quantia</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">quantia_de</span>(<span class="ruby-identifier">outro</span>)))
112:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000016" class="method-detail">
        <a name="M000016"></a>

        <div class="method-heading">
          <a href="#M000016" class="method-signature">
          <span class="method-name">-</span><span class="method-args">(outro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna a subtracao entre dinheiros.
</p>
<p>
Exemplo:
</p>
<pre>
 10.reais - 2.reais == 8.reais
 10.reais - 2 == 8.reais
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000016-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000016-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 119</span>
119:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">-</span>(<span class="ruby-identifier">outro</span>)
120:     <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">transforma_em_string_que_represente_a_quantia</span>(<span class="ruby-ivar">@quantia</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">quantia_de</span>(<span class="ruby-identifier">outro</span>)))
121:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000018" class="method-detail">
        <a name="M000018"></a>

        <div class="method-heading">
          <a href="#M000018" class="method-signature">
          <span class="method-name">/</span><span class="method-args">(outro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna a divisao entre dinheiros.
</p>
<p>
Exemplo:
</p>
<pre>
 5.reais / 2 == (2.5).reais
 5.reais / 2.reais == DivisaPorNaoEscalarError
 5.reais / 0 == ZeroDivisionError
</pre>
<p>
Veja também o método <a href="Dinheiro.html#M000019">parcelar</a>
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000018-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000018-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 141</span>
141:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">/</span>(<span class="ruby-identifier">outro</span>)
142:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">DivisaPorNaoEscalarError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>)
143:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@quantia</span><span class="ruby-operator">/</span><span class="ruby-identifier">outro</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">outro</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
144:     <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">to_f</span>)
145:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000014" class="method-detail">
        <a name="M000014"></a>

        <div class="method-heading">
          <a href="#M000014" class="method-signature">
          <span class="method-name">&lt;=&gt;</span><span class="method-args">(outro_dinheiro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Compara com outro dinheiro se eh maior ou menor.
</p>
<p>
Exemplo:
</p>
<pre>
 1.real &lt; 2.reais ==&gt; true
 1.real &gt; 2.reais ==&gt; false
 2.real &lt; 1.reais ==&gt; false
 2.real &gt; 1.reais ==&gt; true
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000014-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000014-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 100</span>
100:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">outro_dinheiro</span>)
101:     <span class="ruby-identifier">outro_dinheiro</span> = <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">outro_dinheiro</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">outro_dinheiro</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Dinheiro</span>)
102:     <span class="ruby-ivar">@quantia</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">outro_dinheiro</span>.<span class="ruby-identifier">quantia</span>
103:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000013" class="method-detail">
        <a name="M000013"></a>

        <div class="method-heading">
          <a href="#M000013" class="method-signature">
          <span class="method-name">==</span><span class="method-args">(outro_dinheiro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Compara com outro dinheiro se eh igual.
</p>
<p>
Exemplo:
</p>
<pre>
 um_real = Dinheiro.new(1)
 um_real == Dinheiro.new(1) ==&gt; true
 um_real == Dinheiro.new(2) ==&gt; false
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000013-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000013-source">
<pre>
    <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 84</span>
84:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">outro_dinheiro</span>)
85:     <span class="ruby-keyword kw">begin</span> 
86:       <span class="ruby-identifier">outro_dinheiro</span> = <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">outro_dinheiro</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">outro_dinheiro</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Dinheiro</span>)
87:     <span class="ruby-keyword kw">rescue</span>
88:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>
89:     <span class="ruby-keyword kw">end</span>
90:     <span class="ruby-ivar">@quantia</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">outro_dinheiro</span>.<span class="ruby-identifier">quantia</span>
91:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">
          <a href="#M000031" class="method-signature">
          <span class="method-name">contabil</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna uma string formatada sem sigla.
</p>
<p>
Exemplo:
</p>
<pre>
 Dinheiro.new(1).contabil ==&gt; '1,00'
 Dinheiro.new(-1).contabil ==&gt; '(1,00)'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000031-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 232</span>
232:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">contabil</span>
233:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@quantia</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">0</span>
234:       <span class="ruby-identifier">to_s</span>      
235:     <span class="ruby-keyword kw">else</span>  
236:       <span class="ruby-value str">&quot;(&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">to_s</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;)&quot;</span>    
237:     <span class="ruby-keyword kw">end</span>  
238:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000019" class="method-detail">
        <a name="M000019"></a>

        <div class="method-heading">
          <a href="#M000019" class="method-signature">
          <span class="method-name">parcelar</span><span class="method-args">(numero_de_parcelar)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna um array de dinheiro com as parcelas
</p>
<p>
Exemplo:
</p>
<pre>
 6.reais.parcelar(2) == [3.reais, 3.reais]
 6.reais.parcelar(2.reais) == DisivaPorNaoEscalarError
 6.reais.parcelar(0) == ZeroDivisionError
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000019-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000019-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 153</span>
153:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parcelar</span>(<span class="ruby-identifier">numero_de_parcelar</span>)
154:     <span class="ruby-constant">Fixnum</span>
155:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">DivisaPorNaoEscalarError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">numero_de_parcelar</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Integer</span>)
156:     <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@quantia</span><span class="ruby-operator">/</span><span class="ruby-identifier">numero_de_parcelar</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">numero_de_parcelar</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
157:     <span class="ruby-identifier">soma_parcial</span> = <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)
158:     <span class="ruby-identifier">parcelas</span> = []
159:     (<span class="ruby-identifier">numero_de_parcelar</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>).<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span>
160:       <span class="ruby-identifier">parcela</span> = <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">transforma_em_string_que_represente_a_quantia</span>(<span class="ruby-ivar">@quantia</span><span class="ruby-operator">/</span><span class="ruby-identifier">numero_de_parcelar</span>))
161:       <span class="ruby-identifier">parcelas</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">parcela</span>
162:       <span class="ruby-identifier">soma_parcial</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">parcela</span>
163:     <span class="ruby-keyword kw">end</span>
164:     <span class="ruby-identifier">parcelas</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Dinheiro</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">transforma_em_string_que_represente_a_quantia</span>(<span class="ruby-ivar">@quantia</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">quantia_de</span>(<span class="ruby-identifier">soma_parcial</span>)))
165:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000021" class="method-detail">
        <a name="M000021"></a>

        <div class="method-heading">
          <span class="method-name">por_extenso</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Dinheiro.html#M000020">to_extenso</a>
</p>
        </div>
      </div>

      <div id="method-M000022" class="method-detail">
        <a name="M000022"></a>

        <div class="method-heading">
          <span class="method-name">por_extenso_em_reais</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Dinheiro.html#M000020">to_extenso</a>
</p>
        </div>
      </div>

      <div id="method-M000026" class="method-detail">
        <a name="M000026"></a>

        <div class="method-heading">
          <span class="method-name">reais</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Dinheiro.html#M000025">real</a>
</p>
        </div>
      </div>

      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">
          <span class="method-name">reais_contabeis</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Dinheiro.html#M000029">real_contabil</a>
</p>
        </div>
      </div>

      <div id="method-M000028" class="method-detail">
        <a name="M000028"></a>

        <div class="method-heading">
          <span class="method-name">reais_formatado</span><span class="method-args">()</span>
        </div>
      
        <div class="method-description">
          <p>
Alias for <a href="Dinheiro.html#M000027">real_formatado</a>
</p>
        </div>
      </div>

      <div id="method-M000025" class="method-detail">
        <a name="M000025"></a>

        <div class="method-heading">
          <a href="#M000025" class="method-signature">
          <span class="method-name">real</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna a própria instância/
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000025-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000025-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">real</span>
198:     <span class="ruby-keyword kw">self</span>
199:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">
          <a href="#M000029" class="method-signature">
          <span class="method-name">real_contabil</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna uma string formatada com sigla em valor contábil.
</p>
<p>
Exemplo:
</p>
<pre>
 Dinheiro.new(1).real_contabil ==&gt; 'R$ 1,00'
 Dinheiro.new(-1).real_contabil ==&gt; 'R$ (1,00)'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000029-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 220</span>
220:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">real_contabil</span>
221:     <span class="ruby-value str">&quot;R$ &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">contabil</span>
222:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000027" class="method-detail">
        <a name="M000027"></a>

        <div class="method-heading">
          <a href="#M000027" class="method-signature">
          <span class="method-name">real_formatado</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna uma string formatada com sigla em valor monetário. Exemplo:
</p>
<pre>
 Dinheiro.new(1).real_formatado ==&gt; 'R$ 1,00'
 Dinheiro.new(-1).real_formatado ==&gt; 'R$ -1,00'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000027-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000027-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 208</span>
208:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">real_formatado</span>
209:     <span class="ruby-node">&quot;R$ #{to_s}&quot;</span>
210:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000020" class="method-detail">
        <a name="M000020"></a>

        <div class="method-heading">
          <a href="#M000020" class="method-signature">
          <span class="method-name">to_extenso</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Escreve o valor por extenso.
</p>
<p>
Exemplo:
</p>
<pre>
 1.real.to_extenso ==&gt; 'um real'
 (100.58).to_extenso ==&gt; 'cem reais e cinquenta e oito centavos'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000020-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000020-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 172</span>
172:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_extenso</span>
173:     (<span class="ruby-ivar">@quantia</span><span class="ruby-operator">/</span><span class="ruby-value">100.0</span>).<span class="ruby-identifier">por_extenso_em_reais</span>
174:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000024" class="method-detail">
        <a name="M000024"></a>

        <div class="method-heading">
          <a href="#M000024" class="method-signature">
          <span class="method-name">to_f</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna um Float.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000024-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000024-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 188</span>
188:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_f</span>
189:     <span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'.'</span>, <span class="ruby-value str">''</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">','</span>, <span class="ruby-value str">'.'</span>).<span class="ruby-identifier">to_f</span>
190:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000012" class="method-detail">
        <a name="M000012"></a>

        <div class="method-heading">
          <a href="#M000012" class="method-signature">
          <span class="method-name">to_s</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna o valor armazenado em string.
</p>
<p>
Exemplo:
</p>
<pre>
 1000.to_s ==&gt; '1.000,00'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000012-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000012-source">
<pre>
    <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 74</span>
74:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
75:     <span class="ruby-identifier">inteiro_com_milhar</span>(<span class="ruby-identifier">parte_inteira</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">parte_decimal</span>
76:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">
          <a href="#M000032" class="method-signature">
          <span class="method-name">valor_decimal</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Retorna um BigDecinal.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000032-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 241</span>
241:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">valor_decimal</span>
242:     <span class="ruby-constant">BigDecimal</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">quantia_sem_separacao_milhares</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">','</span>,<span class="ruby-value str">'.'</span>)
243:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000023" class="method-detail">
        <a name="M000023"></a>

        <div class="method-heading">
          <a href="#M000023" class="method-signature">
          <span class="method-name">zero?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Verifica se o valor é zero.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000023-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000023-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 183</span>
183:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">zero?</span>
184:     <span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">zero?</span>
185:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Private Instance methods</h3>

      <div id="method-M000046" class="method-detail">
        <a name="M000046"></a>

        <div class="method-heading">
          <a href="#M000046" class="method-signature">
          <span class="method-name">decimal</span><span class="method-args">(parte_fracionaria)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000046-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000046-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 331</span>
331:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">decimal</span>(<span class="ruby-identifier">parte_fracionaria</span>)
332:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">parte_fracionaria</span>.<span class="ruby-identifier">blank?</span>
333:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sem_delimitador_decimal</span>(<span class="ruby-identifier">parte_fracionaria</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parte_fracionaria</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
334:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sem_delimitador_decimal</span>(<span class="ruby-identifier">parte_fracionaria</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;0&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">parte_fracionaria</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
335:     <span class="ruby-keyword kw">end</span>
336:     <span class="ruby-value str">&quot;00&quot;</span>
337:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">
          <a href="#M000041" class="method-signature">
          <span class="method-name">digitos_que_sobraram</span><span class="method-args">(inteiro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 304</span>
304:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">digitos_que_sobraram</span>(<span class="ruby-identifier">inteiro</span>)
305:     <span class="ruby-identifier">inteiro</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">quantidade_de_passos</span>(<span class="ruby-identifier">inteiro</span>) <span class="ruby-operator">*</span> <span class="ruby-constant">QUANTIDADE_DIGITOS</span>)
306:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000043" class="method-detail">
        <a name="M000043"></a>

        <div class="method-heading">
          <a href="#M000043" class="method-signature">
          <span class="method-name">extrai_quantia_como_inteiro</span><span class="method-args">(quantia)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000043-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000043-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 313</span>
313:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extrai_quantia_como_inteiro</span>(<span class="ruby-identifier">quantia</span>)
314:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">FORMATO_VALIDO_BR</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">quantia</span>
315:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sem_milhar</span>(<span class="ruby-identifier">$2</span>, <span class="ruby-identifier">$5</span>, <span class="ruby-value str">'.'</span>)
316:     <span class="ruby-keyword kw">end</span>
317:     <span class="ruby-keyword kw">if</span> <span class="ruby-constant">FORMATO_VALIDO_EUA</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">quantia</span> 
318:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">sem_milhar</span>(<span class="ruby-identifier">$2</span>, <span class="ruby-identifier">$5</span>, <span class="ruby-value str">','</span>)
319:     <span class="ruby-keyword kw">end</span>
320:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000045" class="method-detail">
        <a name="M000045"></a>

        <div class="method-heading">
          <a href="#M000045" class="method-signature">
          <span class="method-name">inteiro</span><span class="method-args">(inteiro_com_separador_milhar, separador)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000045-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000045-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 326</span>
326:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inteiro</span>(<span class="ruby-identifier">inteiro_com_separador_milhar</span>, <span class="ruby-identifier">separador</span>)
327:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">inteiro_com_separador_milhar</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-identifier">separador</span>, <span class="ruby-value str">''</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">inteiro_com_separador_milhar</span>.<span class="ruby-identifier">blank?</span>
328:     <span class="ruby-value str">&quot;&quot;</span>
329:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">
          <a href="#M000038" class="method-signature">
          <span class="method-name">inteiro_com_milhar</span><span class="method-args">(inteiro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 284</span>
284:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inteiro_com_milhar</span>(<span class="ruby-identifier">inteiro</span>)
285:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">inteiro</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">quantidade_de_passos</span>(<span class="ruby-identifier">inteiro</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
286:     <span class="ruby-identifier">resultado</span> = <span class="ruby-value str">&quot;&quot;</span>
287:     <span class="ruby-identifier">quantidade_de_passos</span>(<span class="ruby-identifier">inteiro</span>).<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">passo</span><span class="ruby-operator">|</span> 
288:       <span class="ruby-identifier">resultado</span> = <span class="ruby-value str">&quot;.&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">inteiro</span>[<span class="ruby-operator">-</span><span class="ruby-constant">QUANTIDADE_DIGITOS</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">passo</span> <span class="ruby-operator">*</span> <span class="ruby-operator">-</span><span class="ruby-constant">QUANTIDADE_DIGITOS</span>, <span class="ruby-constant">QUANTIDADE_DIGITOS</span>] <span class="ruby-operator">+</span> <span class="ruby-identifier">resultado</span>            
289:     <span class="ruby-keyword kw">end</span>
290:     <span class="ruby-identifier">resultado</span> = <span class="ruby-identifier">inteiro</span>[<span class="ruby-value">0</span>, <span class="ruby-identifier">digitos_que_sobraram</span>(<span class="ruby-identifier">inteiro</span>)] <span class="ruby-operator">+</span> <span class="ruby-identifier">resultado</span>
291:     <span class="ruby-identifier">resultado</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^(-?)\./</span>, <span class="ruby-value str">'\1'</span>)
292:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">
          <a href="#M000037" class="method-signature">
          <span class="method-name">parte_decimal</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 280</span>
280:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parte_decimal</span>
281:     <span class="ruby-identifier">quantia_sem_separacao_milhares</span>[<span class="ruby-operator">-</span><span class="ruby-constant">QUANTIDADE_DIGITOS</span>, <span class="ruby-constant">QUANTIDADE_DIGITOS</span>]
282:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">
          <a href="#M000036" class="method-signature">
          <span class="method-name">parte_inteira</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000036-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 276</span>
276:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parte_inteira</span>
277:     <span class="ruby-identifier">quantia_sem_separacao_milhares</span>[<span class="ruby-value">0</span>,<span class="ruby-identifier">quantia_sem_separacao_milhares</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">-</span><span class="ruby-constant">QUANTIDADE_DIGITOS</span>]
278:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">
          <a href="#M000035" class="method-signature">
          <span class="method-name">quantia=</span><span class="method-args">(quantia)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000035-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 269</span>
269:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quantia=</span>(<span class="ruby-identifier">quantia</span>)
270:     <span class="ruby-identifier">raise</span> <span class="ruby-constant">DinheiroInvalidoError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">quantia_valida?</span>(<span class="ruby-identifier">quantia</span>)
271:     <span class="ruby-identifier">quantia</span> = <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">BigDecimal</span>)
272:     <span class="ruby-ivar">@quantia</span> = (<span class="ruby-identifier">quantia</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>).<span class="ruby-identifier">round</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>)
273:     <span class="ruby-ivar">@quantia</span> = <span class="ruby-identifier">extrai_quantia_como_inteiro</span>(<span class="ruby-identifier">quantia</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>)
274:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">
          <a href="#M000033" class="method-signature">
          <span class="method-name">quantia_de</span><span class="method-args">(outro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000033-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 255</span>
255:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quantia_de</span>(<span class="ruby-identifier">outro</span>)
256:     <span class="ruby-identifier">outro</span> = <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">BigDecimal</span>)
257:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">quantia</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">outro</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Dinheiro</span>)
258:     (<span class="ruby-identifier">outro</span> <span class="ruby-operator">*</span> <span class="ruby-value">100</span>).<span class="ruby-identifier">round</span>
259:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000048" class="method-detail">
        <a name="M000048"></a>

        <div class="method-heading">
          <a href="#M000048" class="method-signature">
          <span class="method-name">quantia_respeita_formato?</span><span class="method-args">(quantia)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000048-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000048-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 344</span>
344:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quantia_respeita_formato?</span>(<span class="ruby-identifier">quantia</span>)
345:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">FORMATO_VALIDO_BR</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">quantia</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">FORMATO_VALIDO_EUA</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">quantia</span>)
346:     <span class="ruby-keyword kw">false</span>
347:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">
          <a href="#M000039" class="method-signature">
          <span class="method-name">quantia_sem_separacao_milhares</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 294</span>
294:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quantia_sem_separacao_milhares</span>
295:     <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%.2f&quot;</span>, (<span class="ruby-ivar">@quantia</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> <span class="ruby-constant">PRECISAO_DECIMAL</span>)).<span class="ruby-identifier">gsub</span>(<span class="ruby-constant">SEPARADOR_MILHAR</span>, <span class="ruby-constant">SEPARADOR_FRACIONARIO</span>)
296:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">
          <a href="#M000042" class="method-signature">
          <span class="method-name">quantia_valida?</span><span class="method-args">(quantia)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 308</span>
308:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quantia_valida?</span>(<span class="ruby-identifier">quantia</span>)
309:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">quantia_respeita_formato?</span>(<span class="ruby-identifier">quantia</span>)
310:     <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Numeric</span>)
311:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">
          <a href="#M000040" class="method-signature">
          <span class="method-name">quantidade_de_passos</span><span class="method-args">(inteiro)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 298</span>
298:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quantidade_de_passos</span>(<span class="ruby-identifier">inteiro</span>)
299:     <span class="ruby-identifier">resultado</span> = <span class="ruby-identifier">inteiro</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">/</span> <span class="ruby-constant">QUANTIDADE_DIGITOS</span>
300:     <span class="ruby-identifier">resultado</span> = (<span class="ruby-identifier">resultado</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">inteiro</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">%</span> <span class="ruby-constant">QUANTIDADE_DIGITOS</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
301:     <span class="ruby-identifier">resultado</span>
302:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000047" class="method-detail">
        <a name="M000047"></a>

        <div class="method-heading">
          <a href="#M000047" class="method-signature">
          <span class="method-name">sem_delimitador_decimal</span><span class="method-args">(parte_fracionaria)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000047-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000047-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 339</span>
339:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sem_delimitador_decimal</span>(<span class="ruby-identifier">parte_fracionaria</span>)
340:     <span class="ruby-node">&quot;#{parte_fracionaria}&quot;</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/[.|,]/</span>, <span class="ruby-value str">''</span>)
341:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000044" class="method-detail">
        <a name="M000044"></a>

        <div class="method-heading">
          <a href="#M000044" class="method-signature">
          <span class="method-name">sem_milhar</span><span class="method-args">(parte_inteira, parte_decimal, delimitador_de_milhar)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000044-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000044-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 322</span>
322:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sem_milhar</span>(<span class="ruby-identifier">parte_inteira</span>, <span class="ruby-identifier">parte_decimal</span>, <span class="ruby-identifier">delimitador_de_milhar</span>)
323:     (<span class="ruby-identifier">inteiro</span>(<span class="ruby-identifier">parte_inteira</span>, <span class="ruby-identifier">delimitador_de_milhar</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">decimal</span>(<span class="ruby-identifier">parte_decimal</span>)).<span class="ruby-identifier">to_i</span>
324:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">
          <a href="#M000034" class="method-signature">
          <span class="method-name">transforma_em_string_que_represente_a_quantia</span><span class="method-args">(quantia)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000034-source">
<pre>
     <span class="ruby-comment cmt"># File brdinheiro/lib/brdinheiro/dinheiro.rb, line 261</span>
261:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">transforma_em_string_que_represente_a_quantia</span>(<span class="ruby-identifier">quantia</span>)
262:     <span class="ruby-keyword kw">if</span> <span class="ruby-regexp re">/^([+-]?)(\d)$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">to_s</span>
263:       <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;#{$1}0.0#{$2}&quot;</span>
264:     <span class="ruby-keyword kw">end</span>
265:     <span class="ruby-regexp re">/^([+-]?)(\d*)(\d\d)$/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">quantia</span>.<span class="ruby-identifier">to_s</span>
266:     <span class="ruby-node">&quot;#{$1}#{$2.to_i}.#{$3}&quot;</span>
267:   <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>